<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Menstruationsrejsen</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&display=swap" rel="stylesheet" />
  <link href="https://db.onlinewebfonts.com/c/c1c6a15b0d8114a9438a5c217a06d5f1?family=Super+Funky" rel="stylesheet" />

  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: #c2858c;
      font-family: "Poppins", sans-serif;
      overflow: hidden;
      height: 100vh;
    }

    /* ─────────────── FIXED ELEMENTS ─────────────── */
    #floating-girl {
      position: fixed;
      bottom: -100px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 20;
      pointer-events: none;
    }

    #floating-girl img {
      width: 600px;
      height: auto;
      transform: rotate(270deg); /* Rotate 90 degrees clockwise */
    }

    #bølge-container {
      position: fixed;
      bottom: -100px;
      left: 0;
      width: 100%;
      height: auto;
      z-index: 10;
      pointer-events: none;
    }

    .nav-btn {
      position: fixed;
      bottom: 50%;
      transform: translateY(50%);
      width: 50px;
      height: 50px;
      background-color: #f2e07c;
      color: #9b5666;
      border: none;
      border-radius: 50%;
      font-size: 1.5rem;
      font-weight: bold;
      cursor: pointer;
      z-index: 50;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.25);
    }

    #left-btn {
      left: 20px;
    }

    #right-btn {
      right: 20px;
    }

    /* ─────────────── OVERLAY TITLE ─────────────── */
    #section-title {
      position: fixed;
      top: 20px;
      left: 30px;
      font-family: "Super Funky", cursive;
      font-size: 1.5rem;
      color: #f2e07c;
      z-index: 60;
      pointer-events: none;
      user-select: none;
    }

    /* ─────────────── HORIZONTAL SCROLL ─────────────── */
    #scroll-wrapper {
      position: absolute;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      overflow-x: scroll;
      overflow-y: hidden;
      scroll-snap-type: x mandatory;
      scroll-behavior: smooth;
      -webkit-overflow-scrolling: touch;
      z-index: 1;
    }

   #journey {
  display: flex;
  flex-direction: row;
  height: 100vh;
  width: 600vw; /* 6 scenes */
}


    .scene {
      width: 100vw;
      height: 100vh;
      flex-shrink: 0;
      scroll-snap-align: start;
      background-color: transparent;
      padding: 2rem;
      box-sizing: border-box;
      position: relative;
      color: white;
    }

    /* ───────────────  SCENE BACKGROUNDS  ─────────────── */

.scene::before {       /* universal “background layer” */
  content: "";
  position: absolute;
  inset: 0;            /* full viewport */
  background-repeat: no-repeat;
  background-size: contain;   /* or 'cover' if you prefer a full bleed */
  background-position: center center;
  z-index: 1;          /* ► below mirrors / girl / text (z-index ≥5)      */
  pointer-events: none;/* ► ignore clicks / touches                       */
}

/* per-scene artwork */
#scene1::before { background-image: url("images/folikelfase/backgroundsSVG/SVG/bg1.svg"); }
#scene2::before { background-image: url("images/folikelfase/backgroundsSVG/SVG/bg2.svg"); }
#scene3::before { background-image: url("images/folikelfase/backgroundsSVG/SVG/bg3.svg"); }
#scene4::before { background-image: url("images/folikelfase/backgroundsSVG/SVG/bg4.svg"); }
/* #scene0 and #scene5 keep the plain body colour for now */


    /* ─────────────── Scene 1: Spejl ─────────────── */
    
    .mirror-scene-layout {
  position: absolute;
  top: 40%;
  left: 60%;
  transform: translate(-50%, -50%);
  display: flex;
  align-items: center;
  gap: 4rem;
  max-width: 80%;
  z-index: 5;
}

.mirror-wrapper {
  max-width: 45%;
}

.affirmation-text {
  font-family: 'Super Funky', cursive;
  font-size: 2rem;
  color: #f2e07c;
  opacity: 0;
  transition: opacity 1s ease-in-out;
  text-align: left;
  max-width: 300px;
 
}

    

    .mirror-wrapper img {
      width: 100%;
      height: auto;
      display: block;
    }



.legs-wrapper{
  position:absolute;
  top:25%;
  left:30%;

  max-width:40%;          /* mirror-sized; tweak as you like */
  z-index:5;
}

/* let the SVG scale responsively */
#legsAnimation svg{
  width:100%;
  height:auto;
  display:block;
}



/* centred writer */
.typewriter-container{
  position:absolute;
  top:20%;
  left:25%;
  transform:translate(-50%,-50%);
  max-width:50%;
  text-align:center;
  z-index:5;
}

.typewriter-text{
  font-size:1rem;
  line-height:1.4;
  color: #f2e07c;
  white-space:pre-wrap;          /* keep line-breaks */
  letter-spacing:0.02em;
  font-family: 'Super Funky', cursive;
}

.cursor{
  display:inline-block;
  width:0.12em;
  background:#f2e07c;
  animation:blink 0.8s steps(1) infinite;
}

@keyframes blink{ 50%{opacity:0;} }

/* yellow sparkle SVGs */
.yellow-svg{
  position:absolute;
  width:10vw;                  /* change per sprite or override inline */
  max-width:120px;
  pointer-events:none;
  z-index:4;                   /* under the text, above bg */
}



    .follikel-wrapper {
  position: absolute;
  top: 30%;
  left: 50%;
  transform: translate(-50%, -50%);
  max-width: 40%;
  z-index: 5;
}

.follikel-wrapper img {
  width: 100%;
  height: auto;
  display: block;
}



.final-wrapper {
  position: absolute;
  top: 35%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  max-width: 70%;
  z-index: 5;
}

.final-wrapper h2 {
  font-size: 2rem;
  margin-bottom: 1rem;
  color: #f2e07c;
}

.final-wrapper p {
  font-size: 1.2rem;
  color: white;
}




#tilbage-btn {
  position: fixed;
  top: 20px;
  right: 20px;
  background-color: #f2e07c;
  color: #9b5666;
  border: none;
  border-radius: 20px;
  padding: 0.5rem 1rem;
  font-family: "Poppins", sans-serif;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  z-index: 100;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  transition: background-color 0.3s;
}

#tilbage-btn:hover {
  background-color: #e6d86d;
}

/* ───── Parallax layer ───── */
[data-parallax]{
  will-change: transform;
  transition: transform 0.15s linear;      /* small easing, optional  */
  z-index: 5;                              /* keep it above red bg    */
  position: relative;                      /* (already true on yours) */
}

  </style>
</head>

<button id="tilbage-btn" onclick="goBack()">← Tilbage</button>


<body>



  

  <!-- Floating girl image -->
  <div id="floating-girl">
    <img src="Data/billeder/girlonbind.png" alt="Flydende pige" />
  </div>

  <!-- Animated wave -->
  <div id="bølge-container"></div>

  <!-- Fixed scene title -->
  <div id="section-title">Scene 0: Intro</div>

  <!-- Navigation arrows -->
  <button class="nav-btn" id="left-btn">←</button>
  <button class="nav-btn" id="right-btn">→</button>

  <!-- Horizontal scroll area -->
  <div id="scroll-wrapper">
    <div id="journey">
      
      <!-- Scene 0 -->
      <section class="scene" id="scene0">
        <p>Velkommen til rejsen. Scroll til højre for at begynde.</p>
      </section>

      <!-- Scene 1 -->
     <section class="scene" id="scene1">
  <div class="mirror-scene-layout">
    <div class="mirror-wrapper" data-parallax data-depth="0.35">
  <img src="images/folikelfase/mirrorgirl.svg" alt="Spejl">
</div>
    <div class="affirmation-text" id="affirmationText">JEG ER DEJLIG</div>
  </div>
</section>


      <!-- Scene 2 -->
     
<section class="scene" id="scene2">
  <div class="legs-wrapper" data-parallax data-depth="0.35">
    <div id="legsAnimation"></div>
  </div>
</section>


     <!-- Scene 3 -->
<section class="scene" id="scene3">
  <!-- ✏️ Type-writer text -->
  <div class="typewriter-container" data-parallax data-depth="0.35">
    <span id="typeText" class="typewriter-text"></span>
    <span id="typeCursor" class="cursor">|</span>
  </div>

  <!-- ✏️ Yellow SVGs — duplicate / move / resize as you like -->
  <img class="yellow-svg" data-parallax data-depth="0.15"
       style="top:22%; left:18%;" src="images/folikelfase/yellow1.svg" alt="">
  <img class="yellow-svg" data-parallax data-depth="0.25"
       style="top:68%; left:72%;" src="images/folikelfase/yellow2.svg" alt="">
  <img class="yellow-svg" data-parallax data-depth="0.20"
       style="top:40%; left:80%;" src="images/folikelfase/yellow3.svg" alt="">
</section>

      <!-- Scene 4: Folliklen vokser -->
<section class="scene" id="scene4">
  <div>

  </div>
</section>

<!-- Scene 5: Final scene -->
<section class="scene" id="scene5">
  <div class="final-wrapper">
    <h2>Tak fordi du tog rejsen 🌸</h2>
    <p>Din cyklus er kompleks, smuk og værd at forstå.</p>
  </div>
</section>

      

      

    </div>
  </div>

  <!-- JavaScript -->
  <script>

function goBack() {
  window.location.href = "index.html"; // change to your actual home page
}



    // Inject bølge SVG
    fetch('bolge.html')
      .then(res => res.text())
      .then(html => {
        document.getElementById('bølge-container').innerHTML = html;
      });

    const scrollWrapper = document.getElementById("scroll-wrapper");
    const titleOverlay = document.getElementById("section-title");
    const sectionTitles = [
  "Scene 0: Intro",
  "Scene 1: Spejl",
  "Scene 2: Hormoner",
  "Scene 3: Follikelfasen",
  "Scene 4: Folliklen vokser",
  "Scene 5: Afslutning"
];

const affirmationTexts = ["JEG ER DEJLIG", "JEG ER SMUK", "JEG ER SELVSIKKER!"];
const affirmationEl = document.getElementById("affirmationText");

let currentTextIndex = 0;
let scene1Visible = false;

function cycleAffirmationText() {
  if (!scene1Visible) return;

  affirmationEl.style.opacity = 0;

  setTimeout(() => {
    currentTextIndex = (currentTextIndex + 1) % affirmationTexts.length;
    affirmationEl.textContent = affirmationTexts[currentTextIndex];
    affirmationEl.style.opacity = 1;
  }, 1000); // match CSS transition
}

setInterval(cycleAffirmationText, 3000); // every 3 seconds

// Detect when scene 1 is in view
scrollWrapper.addEventListener("scroll", () => {
  const index = Math.round(scrollWrapper.scrollLeft / window.innerWidth);
  titleOverlay.textContent = sectionTitles[index] || "";

  scene1Visible = index === 1;
  if (scene1Visible) {
    affirmationEl.style.opacity = 1;
  } else {
    affirmationEl.style.opacity = 0;
  }
});


    // Navigation arrows
    document.getElementById("left-btn").addEventListener("click", () => {
      scrollWrapper.scrollBy({ left: -window.innerWidth, behavior: "smooth" });
    });

    document.getElementById("right-btn").addEventListener("click", () => {
      scrollWrapper.scrollBy({ left: window.innerWidth, behavior: "smooth" });
    });


/* ── Scene 3: type-writer text ────────────────────────────── */
const scene3Lines = `Du har mere overskud,
føler dig åben og klar på fællesskab.
Det er en fase, hvor du har lyst til at være nærværende og dele kærlighed.

  både med andre og dig selv.`;

let typedScene3 = false;   // prevents retriggering

function startTypewriter(){
  const el = document.getElementById('typeText');
  const cursor = document.getElementById('typeCursor');
  let i = 0;

  (function type(){
    if(i < scene3Lines.length){
      el.textContent += scene3Lines.charAt(i++);
      setTimeout(type, 35);                 // speed (ms / char)
    }else{
      cursor.style.display = 'none';        // hide when done
    }
  })();
}






/* extend your existing scroll listener */
scrollWrapper.addEventListener("scroll", () => {
  const index = Math.round(scrollWrapper.scrollLeft / window.innerWidth);

  /* --- existing title & mirror logic here --- */

  if(index === 3 && !typedScene3){          // Scene 3 in view
    typedScene3 = true;
    startTypewriter();
  }
});





/* ── Parallax set-up ────────────────────────────────────────────── */
const parallaxEls = [...document.querySelectorAll('[data-parallax]')];
const sceneWidth   = window.innerWidth;     //  = 100 vw
const maxDepth     = 1;                     //  1  = normal scroll rate

function updateParallax(){
  const scrollX = scrollWrapper.scrollLeft;

  parallaxEls.forEach(el => {
    const depth = parseFloat(el.dataset.depth) || 0.2;  // fallback speed
    /* element’s parent scene starts at … */
    const sceneIndex = Math.round(el.closest('.scene').offsetLeft / sceneWidth);
    const sceneStart = sceneIndex * sceneWidth;

    /* distance scrolled *inside* that scene                     */
    const insideSceneX = scrollX - sceneStart;

    /* move it leftward by a fraction of the scene scroll        */
    const offset = -insideSceneX * (1 - depth); // 0.35 → 65 % slower
    el.style.transform = `translateX(${offset}px)`;
  });
}

/* throttle with requestAnimationFrame for 60 fps-ish smoothness */
let ticking = false;
scrollWrapper.addEventListener('scroll', () => {
  if (!ticking){
    requestAnimationFrame(() => {
      updateParallax();
      ticking = false;
    });
    ticking = true;
  }
});

/* run once on load & when viewport resizes                       */
updateParallax();
window.addEventListener('resize', updateParallax);



document.addEventListener('DOMContentLoaded', () => {
  lottie.loadAnimation({
    container : document.getElementById('legsAnimation'),
    renderer  : 'svg',
    loop      : true,
    autoplay  : true,
    path      : 'folikelben.json'   // ← relative to this HTML file
  });
});






  </script>
</body>


<script src="https://unpkg.com/lottie-web@5.12.2/build/player/lottie.min.js"></script>


</html>
